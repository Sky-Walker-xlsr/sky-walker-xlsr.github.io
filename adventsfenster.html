<!doctype html>
<html lang="de">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Adventsfenster – Frauenverein Sarmenstorf</title>
  <link rel="icon" type="image/png" href="./images/icon.png">
  <link rel="stylesheet" href="./styles/base.css" />
  <link rel="stylesheet" href="./styles/adventsfenster.css" />
</head>

<body>

  <!-- HEADER -->
  <header class="site-header">
    <div class="container header-bar">
      <a class="brand-logo" href="./index.html">
        <img src="./images/logo.png" alt="Logo Frauenverein Sarmenstorf" />
      </a>

      <!-- Desktop-Navi -->
      <nav class="nav desktop-nav" aria-label="Hauptnavigation">
        <ul>
          <li><a href="./index.html">Startseite</a></li>
          <li><a href="./ueber-uns.html">Über uns</a></li>
          <li class="has-sub">
            <a href="./anlaesse.html">Anlässe <span class="caret" aria-hidden="true">▾</span></a>
            <ul class="sub">
              <li><a href="./jahresprogramm.html">Jahresprogramm</a></li>
              <li><a href="./freizeitplausch.html">Freizeitplausch</a></li>
              <li><a href="./weihnachtsbasteln.html">Weihnachtsbasteln</a></li>
            </ul>
          </li>
          <li><a href="./vorstand.html">Vorstand</a></li>
          <li><a href="./adventsfenster.html" aria-current="page">Adventsfenster</a></li>
          <li><a href="./kontakt.html">Kontakt</a></li>
        </ul>
      </nav>

      <!-- Mobile Toggle -->
      <button class="nav-toggle" id="navToggle" type="button" aria-label="Menü öffnen" aria-controls="mobileOverlay"
        aria-expanded="false">
        <span></span><span></span><span></span>
      </button>
    </div>
  </header>

  <!-- Fullscreen Mobile Overlay -->
  <nav class="mobile-overlay" id="mobileOverlay" aria-hidden="true" aria-label="Mobiles Menü">
    <button class="overlay-close" id="overlayClose" type="button" aria-label="Menü schliessen">×</button>
    <ul>
      <li><a href="./index.html">Startseite</a></li>
      <li><a href="./ueber-uns.html">Über uns</a></li>
      <li>
        <a href="./anlaesse.html">Anlässe</a>
        <ul class="overlay-sub">
          <li><a href="./jahresprogramm.html">Jahresprogramm</a></li>
          <li><a href="./freizeitplausch.html">Freizeitplausch</a></li>
          <li><a href="./weihnachtsbasteln.html">Weihnachtsbasteln</a></li>
        </ul>
      </li>
      <li><a href="./vorstand.html">Vorstand</a></li>
      <li><a href="./adventsfenster.html" aria-current="page">Adventsfenster</a></li>
      <li><a href="./kontakt.html">Kontakt</a></li>
    </ul>
  </nav>

  <main>
    <section class="intro">
      <div class="container">
        <h1 class="page-title">Adventsfenster 2025</h1>
        <p>
          Auch dieses Jahr laden wir herzlich zu den traditionellen <strong>Adventsfenstern</strong> in
          Sarmenstorf ein. Vom <strong>1. bis 24. Dezember</strong> wird jeden Abend um <strong>18:00 Uhr</strong>
          ein neues Fenster feierlich eröffnet. Familien, Vereine, Firmen und die Kirche gestalten liebevoll
          ihre Fenster und schenken damit unserer Gemeinde eine besondere vorweihnachtliche Stimmung.
        </p>
        <p>
          Einige Gastgeberinnen und Gastgeber laden anschliessend zu einem kleinen Umtrunk ein – eine wunderbare
          Gelegenheit, sich in gemütlicher Runde zu treffen und auszutauschen. Wir freuen uns auf viele schöne
          Begegnungen und wünschen allen eine besinnliche Adventszeit.
        </p>
      </div>
    </section>

    <section class="adventsfenster section">
      <div class="container">
        <div class="calendar-grid" id="adv-grid"></div>
      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="site-footer">
    <div class="container footer-grid">
      <div>
        <strong>Frauenverein Sarmenstorf</strong><br />
        5614 Sarmenstorf
      </div>
      <div>
        <strong>Kontakt</strong><br />
        <a href="mailto:kontakt@frauenverein-sarmenstorf.ch">kontakt@frauenverein-sarmenstorf.ch</a>
      </div>
      <div><strong>Folgen</strong></div>
    </div>
    <div class="container legal">© <span id="year"></span> Frauenverein Sarmenstorf</div>
  </footer>

  <script>
    // Jahr im Footer
    document.getElementById('year').textContent = new Date().getFullYear();

    // Mobile Menü Script
    (function () {
      const btn = document.getElementById('navToggle');
      const overlay = document.getElementById('mobileOverlay');
      const closeBtn = document.getElementById('overlayClose');

      function openNav() {
        overlay.classList.add('open');
        btn.classList.add('is-open');
        btn.setAttribute('aria-expanded', 'true');
        overlay.setAttribute('aria-hidden', 'false');
        document.body.classList.add('no-scroll');
      }
      function closeNav() {
        overlay.classList.remove('open');
        btn.classList.remove('is-open');
        btn.setAttribute('aria-expanded', 'false');
        overlay.setAttribute('aria-hidden', 'true');
        document.body.classList.remove('no-scroll');
      }

      btn.addEventListener('click', () =>
        overlay.classList.contains('open') ? closeNav() : openNav()
      );
      closeBtn.addEventListener('click', closeNav);
      overlay.addEventListener('click', (e) => { if (e.target.tagName === 'A') closeNav(); });
      window.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeNav(); });
      window.addEventListener('resize', () => {
        if (window.matchMedia('(min-width:851px)').matches) closeNav();
      });
    })();

    // Adventsfenster-Daten
    const data = [
      { tag: 1, name: "Rita Meyer", adresse: "Quellenweg 22", umtrunk: "Mit Umtrunk" },
      { tag: 2, name: "Gewerbeverein Sarmenstorf", adresse: "Hilfikerstrasse 4", umtrunk: "Mit Umtrunk" },
      { tag: 3, name: "Familie Wengle/Wenk", adresse: "Feldeggstrasse 20", umtrunk: "Mit Umtrunk" },
      { tag: 4, name: "Fam. Rostan", adresse: "Bahndammweg 6c", umtrunk: "Mit Umtrunk" },
      { tag: 5, name: "VVS", adresse: "VVS-Rabatte Marktstrasse", umtrunk: "Mit Umtrunk" },
      { tag: 6, name: "Familie Wey", adresse: "Kreuzrain 8", umtrunk: "" },
      { tag: 7, name: "Familie Weibel", adresse: "Jurastrasse 13", umtrunk: "" },
      { tag: 8, name: "Familie Karli", adresse: "Kirchweg 7", umtrunk: "Mit Umtrunk" },
      { tag: 9, name: "Bäckerei Ruckli", adresse: "Marktstrasse 11", umtrunk: "Mit Umtrunk" },
      { tag: 10, name: "Bibliothek Sarmenstorf", adresse: "Schulhaus", umtrunk: "Mit Umtrunk" },
      { tag: 11, name: "Frauenverein", adresse: "Pfarreitreff", umtrunk: "Mit Umtrunk" },
      { tag: 12, name: "Ruepp Schreinerei AG", adresse: "Feldeggstrasse 3", umtrunk: "Mit Umtrunk" },
      { tag: 13, name: "Fam. Frankenfeld", adresse: "Feldeggstrasse 4", umtrunk: "Mit Umtrunk" },
      { tag: 14, name: "Familie Köchli", adresse: "Kirchweg 26", umtrunk: "" },
      { tag: 15, name: "Familie Bütler", adresse: "Brunnmattstrasse 20", umtrunk: "Mit Umtrunk" },
      { tag: 16, name: "Familie Furrer", adresse: "Kaplaneiweg 1", umtrunk: "" },
      { tag: 17, name: "Jubla", adresse: "Breitistrasse 18", umtrunk: "" },
      { tag: 18, name: "Familie Tschumi", adresse: "Lindenbergstrasse 16", umtrunk: "Mit Umtrunk" },
      { tag: 19, name: "Familie Widmer", adresse: "Zelgli 10", umtrunk: "" },
      { tag: 20, name: "Regula Keller (Wollzimmer)", adresse: "Nadelbandweg 3", umtrunk: "Mit Umtrunk" },
      { tag: 21, name: "Dilara Keusch & Pascal Sax", adresse: "Naglerweg 2", umtrunk: "Mit Umtrunk" },
      { tag: 22, name: "Familie Salm", adresse: "Rosenweg 1", umtrunk: "" },
      { tag: 23, name: "Priska Stadelmann & Tobias Burgener", adresse: "Brunnmattstrasse 12", umtrunk: "Mit Umtrunk" },
      { tag: 24, name: "Kirche", adresse: "Kaplaneiweg 2", umtrunk: "" }
    ];

    const grid = document.getElementById('adv-grid');
    grid.innerHTML = data.map(f => {
      const details = [f.name, f.adresse, f.umtrunk].filter(Boolean).join(', ');
      const ariaLabel = `Adventsfenster ${f.tag}${details ? `: ${details}` : ''}`;
      return `
        <div class="flip-card" role="button" tabindex="0" aria-label="${ariaLabel}" aria-pressed="false">
          <div class="flip-inner">
            <div class="flip-front">${f.tag}</div>
            <div class="flip-back">
              <span class="back-day">${f.tag}</span>
              <strong>${f.name}</strong>
              ${f.adresse ? `<span class="back-address">${f.adresse}</span>` : ''}
              ${f.umtrunk ? `<span class="back-extra">${f.umtrunk}</span>` : ''}
            </div>
          </div>
        </div>`;
    }).join('');

    // Tap/Click & Keyboard: Flip zuverlässig auf Mobile
    const toggleCard = (card) => {
      const flipped = card.classList.toggle('flipped');
      card.setAttribute('aria-pressed', flipped ? 'true' : 'false');
    };

    grid.addEventListener('click', (e) => {
      const card = e.target.closest('.flip-card');
      if (!card) return;
      toggleCard(card);
    });

    grid.addEventListener('keydown', (e) => {
      if (e.key !== 'Enter' && e.key !== ' ') return;
      const card = e.target.closest('.flip-card');
      if (!card) return;
      e.preventDefault();
      toggleCard(card);
    });
    
    // --- Ausklappbare Gesamtliste unterhalb der Kacheln ---
    const listContainer = document.createElement('div');
    listContainer.innerHTML = `
      <button id="toggleList" class="list-toggle">Gesamte Liste anzeigen ▼</button>
      <div id="adv-list" class="adv-list" style="display:none; margin-top:1rem;">
        <ul style="list-style:none; padding:0;">
          ${data.map(f => `
            <li style="padding:6px 0; border-bottom:1px solid #ddd;">
              <strong>${f.tag}.</strong> ${f.name} – ${f.adresse} ${f.umtrunk ? `(${f.umtrunk})` : ''}
            </li>
          `).join('')}
        </ul>
      </div>
    `;
    grid.insertAdjacentElement('afterend', listContainer);

    // Toggle-Funktion für die Liste
    const toggleBtn = document.getElementById('toggleList');
    const advList = document.getElementById('adv-list');
    toggleBtn.addEventListener('click', () => {
      const isHidden = advList.style.display === 'none';
      advList.style.display = isHidden ? 'block' : 'none';
      toggleBtn.textContent = isHidden ? 'Gesamte Liste ausblenden ▲' : 'Gesamte Liste anzeigen ▼';
    });

  </script>
</body>

</html>